{% extends 'base.html.twig' %}

{% block title %}Hello CategorieArticleController!{% endblock %}

{% block body %}
<h1>Liste des Catégories</h1>
{% if categories %}
<table>
    <thead>
        <tr>
            <th>ID</th>
            <th>Titre</th>
            <th>Publié</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
    {% for categorie in categories %}
        <tr>
            <td>{{categorie.id}}</td>
            <td>{{categorie.titre}}</td>
            <td>
                {% if categorie.visible is same as(true) %}
                    oui
                {% else %}
                    non
                {% endif %}
            </td>
            <td>
                <a href="/categories/edit/{{categorie.id}}">Edit</a>
                <a href="/categories/delete/{{categorie.id}}" class="confirm">Delete</a>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>
{% endif %}

{% block javascripts %}
<script type="text/javascript">
    {# Comfirm Delete #}
    function confirmClick(e) {
        const message = 'Are you sure that you want to delete this category?';
        action = confirm(message) ? true : e.preventDefault();
    }
    const confirmLinks = document.getElementsByClassName('confirm');
    for (let i = 0, length = confirmLinks.length; i < length; i++) {
        confirmLinks[i].addEventListener('click', confirmClick);
    }
</script>
{% endblock %}

{% endblock %}
